<!-- test_results.html -->
<!DOCTYPE html>
<html>
    <head>
		{% load staticfiles %}
		<link rel="stylesheet" type="text/css" href="/static/style.css" media="screen" />
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<script type="text/javascript" src="/static/main.js"></script>
    </head>
    <body>
		{% load test_library %}
		<table>
			<tr>
				<td class="column">
				</td>
				<td class="column">
				</td>
				{% for test_case in all_test_cases %}
				<td class="column">
					<div class="column">{% remove_pkg test_case.test_case %}
					    <br>(Fail rate: {% get_test_case_fail_rate all_test_results test_case.id %}%)
					</div>
				</td>
				{% endfor %}
			</tr>
			{% for test_time in all_test_times %}

			<tr class="content_column">
				<td class="column">
					<div class="column">
					{{ test_time.test_time }}
					<br>version:  {% get_test_version all_versions test_time.id%}
					<br>tag:  {% get_test_tag all_test_tags test_time.id%}
					</div>
				</td>
				<td class="column">
					<div class="column">
					{% get_git_log_subject_from_time_stamp all_git_tags test_time.test_git_log_id %}
					<br><br><div class="git_author">{% get_git_log_author_name_from_time_stamp all_git_tags test_time.test_git_log_id %}</div>
					</div>
				</td>
				{% for test_case in all_test_cases %}
				<td class="content">
					<script>
					var result="{% get_test_result all_test_results test_case.id test_time.id %}".replace(/@@@/g, "<br>");
					if (result.localeCompare("OK") == 0) {
						document.write('<div class="content_pass">' + result + '</div>');
					} else {
						document.write('<div class="content_failure">' + result + '</div>');
					}
					</script>
				</td>
				{% endfor %}
			</tr>
			{% endfor %}
		</table>
    </body>
	
</html>